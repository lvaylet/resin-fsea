version: '3'
services:
  dashboard:
    build:
      context: ./dashboard
      dockerfile: Dockerfile.dev
    volumes:
      - /usr/src/app/node_modules  # prevent node_modules from being overwritten by the above
      - ./dashboard:/usr/src/app  # hot reloading
    ports:
      - "8080:8080"

  drone:
    build: ./drone
    environment:
      - UUID=7ebf7ece-1332-44ad-8f3a-db72245eded5  # generated with https://www.uuidgenerator.net/
      - NAME=drone1
      - MQTT_HOST=iot.eclipse.org
      - MQTT_PORT=1883
